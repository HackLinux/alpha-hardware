#!/bin/sh

. ./i2c.func

	# I2C addresses
i2c_set 0x39 0x43 0x20			# EDID address 0x10
i2c_set 0x39 0x45 0x22			# Packet Memory address 0x11
i2c_set 0x39 0xE1 0x24			# CEC Map address 0x12
i2c_set 0x39 0xF9 0x26			# Fixed address 0x13

	# power up Tx
i2c_bit_set 0x39 0x41 6

	# fixed regs
i2c_set 0x39 0x98 0x03
i2c_map 0x39 0x9A 1 7 0x70
i2c_set 0x39 0x9C 0x30
i2c_map 0x39 0x9D 0 1 0x1
i2c_set 0x39 0xA2 0xA4
i2c_set 0x39 0xA3 0xA4
i2c_set 0x39 0xE0 0xD0

	# input mode
i2c_map 0x39 0x15 0 3 0x1		# YCbCr 4:2:2, sep. sync
i2c_map 0x39 0x16 4 5 0x3		# 8-bit
i2c_map 0x39 0x16 2 3 0x3		# Style 3 Y-Cb,Y-Cr
i2c_bit 0x39 0x17 1   0x1		# 16:9
i2c_map 0x39 0x48 3 4 0x1		# right justified
i2c_bit 0x39 0x48 6   0x0		# normal bus order

	# output mode
i2c_map 0x39 0x16 6 7 0x0		# 4:4:4
i2c_bit 0x39 0x18 7   0x1		# YCbCr to RGB
i2c_map 0x39 0x18 5 6 0x0		# YCbCr to RGB
i2c_bit 0x39 0xAF 1   0x1		# HDMI out
i2c_bit 0x39 0x40 7   0x1		# Enable GC
i2c_map 0x39 0x4C 0 3 0x0		# Color Depth

	# HDCP
i2c_bit 0x39 0xAF 7   0x0		# Disable HDCP
i2c_bit 0x39 0xAF 7   0x0		# Disable HDCP

	# enable HDMI
i2c_bit 0x39 0x41 6   0x0		# Disable PowerDown
i2c_bit 0x39 0xAF 1   0x1		# HDMI



